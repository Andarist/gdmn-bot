# Первоначальная настройка данных

Перед установкой бота на клиенте необходимо добавить информацию о нем в файл customers.json,
который расположен на сервере в папке data.

# Экспорт данных из Гедымина

Для выгрузки данных из базы клиента необходимо установить ПИ "БОТ.Экспорт файлов" ("GS.Общие.Функции работы с json" ?).

Для работы с сервером необходимо заполнить следующие значения констант в справочнике "Исследователь » Сервис » Константы":
  1. "БОТ. ИД клиента" - это ИД, которое соответствует ИД записи клиента из файла customers.json ("brl", "bmkk");
  2. "БОТ. Адрес сервера" - пока http://localhost:3000.

ПИ "БОТ.Экспорт файлов" содержит основные функции (Исследователь » Бот):
  1. "Экспорт сотрудников";
  2. "Экспорт видов начислений";
  3. "Экспорт расчетных листов".

Данные для экспорта сотрудников вытягиваются за период, который будет запрашиваться параметром.

Макросы экспорта данных состоят из 2 основных частей:
  1. Выполнение запросов и подготовка данных в JSON формате;
  2. Отправка файлов на сервер.

# Рассылка сообщений пользователям о том, что появился новый расчетный листок

После загрузки нового расчетного листка (на post методе 'upload_paySlips') будет выполнена рассылка сообщения о новых данных
всем сотрудникам из файла employee.json соответствующей организации.

Единица выгрузки из базы данных это один расчетный листок, за один целый календарный месяц, по одному сотруднику.

Подразделение и должность определяется на дату окончания
месяца расчетного листка. И всегда передается вместе
с расчетным листком.

Если человек в один месяц работал в одном подразделении,
в другой -- в другом, то у него в каждом расчетном листке
будет сохранено соответствующее подразделение.

Если человек в течение месяца переводился из подразделения в подразделение или с должности на должность, то в расчетный листок попадет только последнее.

